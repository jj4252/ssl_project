# Data loading configuration (optimized for speed)

dataset_name: "tsbpp/fall2025_deeplearning"
image_size: 96  # Match original image size (96x96) - student operates at native resolution
num_workers: 2  # Reduced to prevent OOM (was 4)
persistent_workers: false  # Must be false
prefetch_factor: 1  # Reduced to prevent OOM (was 2)
pin_memory: true

# Cache configuration (2-stage pipeline)
# Auto-detection: If cache exists, it will be used automatically
# Set to false to explicitly disable cached mode even if cache exists
use_cached_tensors: null  # null = auto-detect, true = force enable, false = force disable
cache_root: "/scratch/jj4252/Nov_14_distill/cache_images"  # Root directory for cached tensors
cache_image_size: 96  # Match original image size (96x96) - no need to cache larger
cache_dtype: "float32"  # Data type for cached tensors (float32 or float16)
cache_shard_size: 2048  # Number of samples per shard file

# Subset limits for testing (optional)
max_shards: 15  # Limit to first 15 shard files (~5% of data, ~30K samples)
# max_samples: null  # Alternative: limit by total samples (e.g., 30720 for ~5% of 500K)

# Legacy compatibility (will be removed)
use_cached: false  # Deprecated: use use_cached_tensors instead
cache_dir: "/scratch/jj4252/Nov_14_distill/cache_images"  # Deprecated: use cache_root instead

